<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Lets get started &mdash; TweetMe 2022 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Welcome to TweetMe’s documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> TweetMe
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Lets get started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#preparation">Preparation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-tweets-model">0:32:31 8. The Tweets Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="#store-data-from-django-model">0:39:35 9. Store Data from Django Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id1">0:39:35 9. Store Data from Django Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="#intro-to-url-routing-and-dynamic-routing">0:43:10 10. Intro to URL Routing and Dynamic Routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dynamic-view-into-rest-api-endpoint">0:51:32 12. Dynamic View into REST API Endpoint</a></li>
<li class="toctree-l2"><a class="reference internal" href="#our-first-template">0:55:50 13. Our First Template</a></li>
<li class="toctree-l2"><a class="reference internal" href="#bootstrap-django-templates">1:00:07 14. Bootstrap &amp; Django Templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tweet-list-view">1:04:17 15. Tweet List View</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dynamic-load-tweets-via-javascript">1:08:01 16. Dynamic Load Tweets via JavaScript</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tweets-to-html-via-javascript">1:18:19 18. Tweets to HTML via JavaScript</a></li>
<li class="toctree-l2"><a class="reference internal" href="#format-tweet-method">1:25:56 19. Format Tweet Method</a></li>
<li class="toctree-l2"><a class="reference internal" href="#like-button-rendering">1:29:30 20. Like Button Rendering</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tweet-create-form">1:48:00 22. Tweet Create Form</a></li>
<li class="toctree-l2"><a class="reference internal" href="#serialize-django-model-object">2:26:47 29. Serialize Django Model Object</a></li>
<li class="toctree-l2"><a class="reference internal" href="#append-new-tweet-reorder">2:33:33 30. Append New Tweet &amp; Reorder</a></li>
<li class="toctree-l2"><a class="reference internal" href="#handling-form-errors">2:37:09 31. Handling Form Errors</a></li>
<li class="toctree-l2"><a class="reference internal" href="#rendering-the-error-message-via-vanilla-javascript">2:42:18 32. Rendering the Error Message via Vanilla JavaScript</a></li>
<li class="toctree-l2"><a class="reference internal" href="#users-tweets">2:49:28 33. Users &amp; Tweets</a></li>
<li class="toctree-l2"><a class="reference internal" href="#django-admin">2:57:09 34. Django Admin</a></li>
<li class="toctree-l2"><a class="reference internal" href="#associate-authenticated-user-to-object">3:07:23 35. Associate Authenticated User to Object</a></li>
<li class="toctree-l2"><a class="reference internal" href="#permissions-roadmap">3:13:00 36. Permissions &amp; Roadmap</a></li>
<li class="toctree-l2"><a class="reference internal" href="#install-django-rest-framework">3:16:16 37. Install Django Rest Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="#django-forms-to-django-rest-framework-serializer">3:18:20 38. Django Forms to Django Rest Framework Serializer</a></li>
<li class="toctree-l2"><a class="reference internal" href="#django-views-to-django-rest-framework-views">3:27:42 39. Django Views to Django Rest Framework Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="#permissions-and-authentication-classes-decorators-for-drf-apis">3:35:50 40. Permissions and Authentication Classes Decorators for DRF APIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#delete-tweet-api-view">3:43:08 41. Delete Tweet API View</a></li>
<li class="toctree-l2"><a class="reference internal" href="#adding-a-like-field">3:49:43 42. Adding a Like Field</a></li>
<li class="toctree-l2"><a class="reference internal" href="#understanding-setting-manytomayfields">3:56:00 43. Understanding Setting ManyToMayFields</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tweet-action-view">4:03:32 44. Tweet Action View</a></li>
<li class="toctree-l2"><a class="reference internal" href="#javascript-tweet-action-handler">04:11:02 45. JavaScript Tweet Action Handler</a></li>
<li class="toctree-l2"><a class="reference internal" href="#csrf-client-side-action-buttons">04:15:56 46. CSRF &amp; Client Side Action Buttons</a></li>
<li class="toctree-l2"><a class="reference internal" href="#retweeting-logic">04:24:18 47. Retweeting Logic</a></li>
<li class="toctree-l2"><a class="reference internal" href="#two-types-of-serializers">04:32:30 48. Two Types of Serializers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#internal-app-urls">04:41:29 49. Internal App Urls</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setting-up-tests-in-django">04:45:15 50. Setting up Tests in Django</a></li>
<li class="toctree-l2"><a class="reference internal" href="#verify-or-install-node-js">05:12:14 51. Verify or Install Node.js</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">TweetMe</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Lets get started</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/startproject.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="lets-get-started">
<h1>Lets get started<a class="headerlink" href="#lets-get-started" title="Permalink to this headline"></a></h1>
<div class="section" id="preparation">
<h2>Preparation<a class="headerlink" href="#preparation" title="Permalink to this headline"></a></h2>
<p>Within our projects direcrory we create a virtual environment.
I like better virtualenv and not pipenv.</p>
<p>So:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="gp">$ </span>pip install virtualenv
</span><span class="gp">$ </span>virtualenv venv
<span class="gp">$ </span>.<span class="se">\v</span>env<span class="se">\s</span>cripts<span class="se">\a</span>ctivate
<span class="gp gp-VirtualEnv">(venv)</span> <span class="go">C:\MyDjangoRestfullReactApps\TwitterLikeApp2&gt;</span>

<span class="hll"><span class="go">Freeze all the packages i have installed and keep them in requirements.ixi file</span>
</span><span class="gp">$ </span>pip freeze &gt; requirements.txt

<span class="hll"><span class="go">Install the same packages to a new packages</span>
</span><span class="gp">$ </span>pip install -r requirements.txt

<span class="hll"><span class="go">OR alternatively</span>
</span><span class="gp">$ </span>python3.6 -m pip install pipenv --upgrade
<span class="gp">$ </span>pipenv shell
<span class="hll"><span class="go">to deactivate it just:</span>
</span><span class="gp">$ </span><span class="nb">exit</span>
<span class="hll"><span class="go">In order to install all dependencies of the virtual environment:</span>
</span><span class="gp">$ </span>pipenv run
<span class="go">OR</span>
<span class="gp">$ </span>pipenv install requests
</pre></div>
</div>
<p>In order to activate pipenv virtual environment we run:
pipenv shell</p>
<p>OR alternatively (outside the pipenv),
pipenv –three sync</p>
<p>After that Sphinx Installation</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="gp">$ </span>pip install sphinx
</span><span class="gp">$ </span>mkdir docs
<span class="gp">$ </span><span class="nb">cd</span> docs
<span class="gp">$ </span>sphinx-quickstart
<span class="gp gp-VirtualEnv">(install sphinx_rtd_theme)</span>
<span class="gp">$ </span>pip install sphinx_rtd_theme
<span class="gp gp-VirtualEnv">(install sphinxcontrib-httpdomain)</span>
<span class="gp">$ </span>pip install sphinxcontrib-httpdomain
<span class="gp gp-VirtualEnv">(install sphinx-copybutton)</span>
<span class="gp">$ </span>pip install sphinx-copybutton
<span class="gp gp-VirtualEnv">(Install sphinx-toolbox. More infos on https://sphinx-toolbox.readthedocs.io/en/latest/)</span>
<span class="gp">$ </span>pip install sphinx-toolbox
</pre></div>
</div>
<p>Install Django 3.2.13 LTS version</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="gp">$ </span><span class="nb">cd</span> ..
</span><span class="gp">$ </span>pip install <span class="nv">Django</span><span class="o">==</span><span class="m">3</span>.2.13
<span class="go">Successfully installed Django-3.2.13 asgiref-3.5.0 sqlparse-0.4.2</span>

<span class="gp">$ </span>python -m django --version
<span class="go">3.2.13</span>
</pre></div>
</div>
<p>Create the django project</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="gp">$ </span>django-admin startproject tweetmetoo .
</span></pre></div>
</div>
<p>Initialize Git by openning windows cmd prompt OR GIT cmd (or i imagine GIT shell would do the job)
Or a VS code rerminal.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="go">In my projects folder</span>
</span><span class="gp">$ </span>git init
<span class="go">Initialized empty Git repository in C:/MyDjangoRestfullReactApps/TwitterLikeApp2/.git/</span>
<span class="gp">$ </span>git remote add origin https://github.com/Otinanai1309/tweetmetoo.git
<span class="gp">$ </span>git add --all
<span class="gp">$ </span>git commit -m <span class="s2">&quot;Initial Commit&quot;</span>
</pre></div>
</div>
<p>Open the projects folder with Visual Studio</p>
</div>
<div class="section" id="the-tweets-model">
<h2>0:32:31 8. The Tweets Model<a class="headerlink" href="#the-tweets-model" title="Permalink to this headline"></a></h2>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="gp">$ </span>.<span class="se">\m</span>anage.py startapp tweets
</span></pre></div>
</div>
</div>
<div class="section" id="store-data-from-django-model">
<h2>0:39:35 9. Store Data from Django Model<a class="headerlink" href="#store-data-from-django-model" title="Permalink to this headline"></a></h2>
<p>You Tube video uploaded at: <a class="reference external" href="https://www.youtube.com/watch?v=f1R_bykXHGE&amp;t=1653s">https://www.youtube.com/watch?v=f1R_bykXHGE&amp;t=1653s</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="c1"># tweets/models.py</span>
</span><span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>

<span class="c1"># Create your models here.</span>
<span class="k">class</span> <span class="nc">Tweet</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">content</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">TextField</span><span class="p">(</span><span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">image</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">FileField</span><span class="p">(</span><span class="n">upload_to</span><span class="o">=</span><span class="s1">&#39;images/&#39;</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="c1"># tweetmetoo/settings.py</span>
</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Django settings for tweetmetoo project.</span>

<span class="sd">Generated by &#39;django-admin startproject&#39; using Django 3.2.13.</span>

<span class="sd">For more information on this file, see</span>
<span class="sd">https://docs.djangoproject.com/en/3.2/topics/settings/</span>

<span class="sd">For the full list of settings and their values, see</span>
<span class="sd">https://docs.djangoproject.com/en/3.2/ref/settings/</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="hll"><span class="kn">import</span> <span class="nn">os</span>
</span>
<span class="c1"># Build paths inside the project like this: BASE_DIR / &#39;subdir&#39;.</span>
<span class="n">BASE_DIR</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span>


<span class="c1"># Quick-start development settings - unsuitable for production</span>
<span class="c1"># See https://docs.djangoproject.com/en/3.2/howto/deployment/checklist/</span>

<span class="c1"># SECURITY WARNING: keep the secret key used in production secret!</span>
<span class="n">SECRET_KEY</span> <span class="o">=</span> <span class="s1">&#39;django-insecure-</span><span class="si">%u</span><span class="s1">o5vr70p_+x9@+g_+%qekm6qjm-zsuqpz8y@jlgf%4bg(8)2)&#39;</span>

<span class="c1"># SECURITY WARNING: don&#39;t run with debug turned on in production!</span>
<span class="n">DEBUG</span> <span class="o">=</span> <span class="kc">True</span>

<span class="n">ALLOWED_HOSTS</span> <span class="o">=</span> <span class="p">[]</span>


<span class="c1"># Application definition</span>

<span class="n">INSTALLED_APPS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;django.contrib.admin&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.auth&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.contenttypes&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.sessions&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.messages&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.staticfiles&#39;</span><span class="p">,</span>
<span class="hll">    <span class="s1">&#39;tweets&#39;</span><span class="p">,</span>
</span><span class="p">]</span>

<span class="n">MIDDLEWARE</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;django.middleware.security.SecurityMiddleware&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.sessions.middleware.SessionMiddleware&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.middleware.common.CommonMiddleware&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.middleware.csrf.CsrfViewMiddleware&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.auth.middleware.AuthenticationMiddleware&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.messages.middleware.MessageMiddleware&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.middleware.clickjacking.XFrameOptionsMiddleware&#39;</span><span class="p">,</span>
<span class="p">]</span>

<span class="n">ROOT_URLCONF</span> <span class="o">=</span> <span class="s1">&#39;tweetmetoo.urls&#39;</span>

<span class="n">TEMPLATES</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="s1">&#39;BACKEND&#39;</span><span class="p">:</span> <span class="s1">&#39;django.template.backends.django.DjangoTemplates&#39;</span><span class="p">,</span>
        <span class="s1">&#39;DIRS&#39;</span><span class="p">:</span> <span class="p">[],</span>
        <span class="s1">&#39;APP_DIRS&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s1">&#39;OPTIONS&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;context_processors&#39;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s1">&#39;django.template.context_processors.debug&#39;</span><span class="p">,</span>
                <span class="s1">&#39;django.template.context_processors.request&#39;</span><span class="p">,</span>
                <span class="s1">&#39;django.contrib.auth.context_processors.auth&#39;</span><span class="p">,</span>
                <span class="s1">&#39;django.contrib.messages.context_processors.messages&#39;</span><span class="p">,</span>
            <span class="p">],</span>
        <span class="p">},</span>
    <span class="p">},</span>
<span class="p">]</span>

<span class="n">WSGI_APPLICATION</span> <span class="o">=</span> <span class="s1">&#39;tweetmetoo.wsgi.application&#39;</span>


<span class="c1"># Database</span>
<span class="c1"># https://docs.djangoproject.com/en/3.2/ref/settings/#databases</span>

<span class="n">DATABASES</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;ENGINE&#39;</span><span class="p">:</span> <span class="s1">&#39;django.db.backends.sqlite3&#39;</span><span class="p">,</span>
        <span class="s1">&#39;NAME&#39;</span><span class="p">:</span> <span class="n">BASE_DIR</span> <span class="o">/</span> <span class="s1">&#39;db.sqlite3&#39;</span><span class="p">,</span>
    <span class="p">}</span>
<span class="p">}</span>


<span class="c1"># Password validation</span>
<span class="c1"># https://docs.djangoproject.com/en/3.2/ref/settings/#auth-password-validators</span>

<span class="n">AUTH_PASSWORD_VALIDATORS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="s1">&#39;NAME&#39;</span><span class="p">:</span> <span class="s1">&#39;django.contrib.auth.password_validation.UserAttributeSimilarityValidator&#39;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s1">&#39;NAME&#39;</span><span class="p">:</span> <span class="s1">&#39;django.contrib.auth.password_validation.MinimumLengthValidator&#39;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s1">&#39;NAME&#39;</span><span class="p">:</span> <span class="s1">&#39;django.contrib.auth.password_validation.CommonPasswordValidator&#39;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s1">&#39;NAME&#39;</span><span class="p">:</span> <span class="s1">&#39;django.contrib.auth.password_validation.NumericPasswordValidator&#39;</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">]</span>


<span class="c1"># Internationalization</span>
<span class="c1"># https://docs.djangoproject.com/en/3.2/topics/i18n/</span>

<span class="n">LANGUAGE_CODE</span> <span class="o">=</span> <span class="s1">&#39;en-us&#39;</span>

<span class="n">TIME_ZONE</span> <span class="o">=</span> <span class="s1">&#39;UTC&#39;</span>

<span class="n">USE_I18N</span> <span class="o">=</span> <span class="kc">True</span>

<span class="n">USE_L10N</span> <span class="o">=</span> <span class="kc">True</span>

<span class="n">USE_TZ</span> <span class="o">=</span> <span class="kc">True</span>


<span class="c1"># Static files (CSS, JavaScript, Images)</span>
<span class="c1"># https://docs.djangoproject.com/en/3.2/howto/static-files/</span>

<span class="n">STATIC_URL</span> <span class="o">=</span> <span class="s1">&#39;/static/&#39;</span>

<span class="c1"># Default primary key field type</span>
<span class="c1"># https://docs.djangoproject.com/en/3.2/ref/settings/#default-auto-field</span>

<span class="n">DEFAULT_AUTO_FIELD</span> <span class="o">=</span> <span class="s1">&#39;django.db.models.BigAutoField&#39;</span>
</pre></div>
</div>
<p><strong>and Of-course run the migration commands</strong></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="gp">$ </span>python manage.py makemigrations
</span><span class="go">Migrations for &#39;tweets&#39;:</span>
<span class="go">    tweets\migrations\0001_initial.py</span>
<span class="go">        - Create model Tweet</span>
<span class="gp">$ </span>python manage.py migrate
<span class="go">Operations to perform:</span>
<span class="go">    Apply all migrations: admin, auth, contenttypes, sessions, tweets</span>
<span class="go">Running migrations:</span>
<span class="go">    Applying contenttypes.0001_initial... OK</span>
<span class="go">    Applying auth.0001_initial... OK</span>
<span class="go">    Applying admin.0001_initial... OK</span>
<span class="go">    Applying admin.0002_logentry_remove_auto_add... OK</span>
<span class="go">    Applying admin.0003_logentry_add_action_flag_choices... OK</span>
<span class="go">    Applying contenttypes.0002_remove_content_type_name... OK</span>
<span class="go">    Applying auth.0002_alter_permission_name_max_length... OK</span>
<span class="go">    Applying auth.0003_alter_user_email_max_length... OK</span>
<span class="go">    Applying auth.0004_alter_user_username_opts... OK</span>
<span class="go">    Applying auth.0005_alter_user_last_login_null... OK</span>
<span class="go">    Applying auth.0006_require_contenttypes_0002... OK</span>
<span class="go">    Applying auth.0007_alter_validators_add_error_messages... OK</span>
<span class="go">    Applying auth.0008_alter_user_username_max_length... OK</span>
<span class="go">    Applying auth.0009_alter_user_last_name_max_length... OK</span>
<span class="go">    Applying auth.0010_alter_group_name_max_length... OK</span>
<span class="go">    Applying auth.0011_update_proxy_permissions... OK</span>
<span class="go">    Applying auth.0012_alter_user_first_name_max_length... OK</span>
<span class="go">    Applying sessions.0001_initial... OK</span>
<span class="go">    Applying tweets.0001_initial... OK</span>
</pre></div>
</div>
</div>
<div class="section" id="id1">
<h2>0:39:35 9. Store Data from Django Model<a class="headerlink" href="#id1" title="Permalink to this headline"></a></h2>
<p>So if i wanna test those files i can do:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="hll">$ .<span class="se">\m</span>anage.py shell
</span>Python <span class="m">3</span>.8.7 <span class="o">(</span>tags/v3.8.7:6503f05, Dec <span class="m">21</span> <span class="m">2020</span>, <span class="m">17</span>:59:51<span class="o">)</span> <span class="o">[</span>MSC v.1928 <span class="m">64</span> bit <span class="o">(</span>AMD64<span class="o">)]</span> on win32
Type <span class="s2">&quot;help&quot;</span>, <span class="s2">&quot;copyright&quot;</span>, <span class="s2">&quot;credits&quot;</span> or <span class="s2">&quot;license&quot;</span> <span class="k">for</span> more information.
<span class="o">(</span>InteractiveConsole<span class="o">)</span>
&gt;&gt;&gt; from tweets.models import Tweet
&gt;&gt;&gt; <span class="nv">obj</span> <span class="o">=</span> Tweet<span class="o">()</span>
&gt;&gt;&gt; obj.content <span class="o">=</span> <span class="s2">&quot;Hello world!&quot;</span>
&gt;&gt;&gt; obj.save<span class="o">()</span>
</pre></div>
</div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="hll">$ .<span class="se">\m</span>anage.py shell
</span>&gt;&gt;&gt; from tweets.models import Tweet
&gt;&gt;&gt; <span class="nv">obj</span> <span class="o">=</span> Tweet.objects.get<span class="o">(</span><span class="nv">id</span><span class="o">=</span><span class="m">1</span><span class="o">)</span>
&gt;&gt;&gt; obj.content
<span class="s1">&#39;Hello world!&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="intro-to-url-routing-and-dynamic-routing">
<h2>0:43:10 10. Intro to URL Routing and Dynamic Routing<a class="headerlink" href="#intro-to-url-routing-and-dynamic-routing" title="Permalink to this headline"></a></h2>
<p>In order to create our first url we start from creating the view. We can create class view
or function view.
After that i can go to the urls.py in my main root and add the url to my view. Of-course
i have to build a nice html page for my url.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="c1"># tweets/views.py</span>
</span><span class="hll"><span class="kn">from</span> <span class="nn">django.http</span> <span class="kn">import</span> <span class="n">HttpResponse</span>
</span><span class="kn">from</span> <span class="nn">django.shortcuts</span> <span class="kn">import</span> <span class="n">render</span>
<span class="kn">from</span> <span class="nn">requests</span> <span class="kn">import</span> <span class="n">request</span>

<span class="hll"><span class="kn">from</span> <span class="nn">tweets.models</span> <span class="kn">import</span> <span class="n">Tweet</span>
</span>
<span class="c1"># Create your views here.</span>
<span class="k">def</span> <span class="nf">home_view</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="s2">&quot;&lt;h1&gt;Hello world!!!&lt;/h1&gt;&quot;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">tweet_detail_view</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">):</span>
    <span class="n">obj</span> <span class="o">=</span> <span class="n">Tweet</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">pk</span><span class="o">=</span><span class="n">pk</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">dynamic_routing</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&lt;h1&gt; Hello </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">. Have a nice day&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="c1"># tweetmetoo/urls.py</span>
</span><span class="sd">&quot;&quot;&quot;tweetmetoo URL Configuration</span>

<span class="sd">The `urlpatterns` list routes URLs to views. For more information please see:</span>
<span class="sd">    https://docs.djangoproject.com/en/3.2/topics/http/urls/</span>
<span class="sd">Examples:</span>
<span class="sd">Function views</span>
<span class="sd">    1. Add an import:  from my_app import views</span>
<span class="sd">    2. Add a URL to urlpatterns:  path(&#39;&#39;, views.home, name=&#39;home&#39;)</span>
<span class="sd">Class-based views</span>
<span class="sd">    1. Add an import:  from other_app.views import Home</span>
<span class="sd">    2. Add a URL to urlpatterns:  path(&#39;&#39;, Home.as_view(), name=&#39;home&#39;)</span>
<span class="sd">Including another URLconf</span>
<span class="sd">    1. Import the include() function: from django.urls import include, path</span>
<span class="sd">    2. Add a URL to urlpatterns:  path(&#39;blog/&#39;, include(&#39;blog.urls&#39;))</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">django.contrib</span> <span class="kn">import</span> <span class="n">admin</span>
<span class="kn">from</span> <span class="nn">django.urls</span> <span class="kn">import</span> <span class="n">path</span>
<span class="hll"><span class="kn">from</span> <span class="nn">tweets</span> <span class="kn">import</span> <span class="n">views</span>
</span>
<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;admin/&#39;</span><span class="p">,</span> <span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">urls</span><span class="p">),</span>
<span class="hll">    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">home_view</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;home-view&#39;</span><span class="p">),</span>
</span><span class="hll">    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;tweets_detail/&lt;int:pk&gt;&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">tweet_detail_view</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;tweet-detail-view&quot;</span><span class="p">),</span>
</span><span class="hll">    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;dynamic_routing/&lt;str:name&gt;&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">dynamic_routing</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;dynamic-routing&quot;</span><span class="p">),</span>
</span><span class="p">]</span>
</pre></div>
</div>
<p>We Run the server and we have our page up and running.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="gp">$ </span>python manage.py runserver
</span><span class="go">Watching for file changes with StatReloader</span>
<span class="go">Performing system checks...</span>

<span class="go">System check identified no issues (0 silenced).</span>
<span class="go">April 30, 2022 - 18:37:41</span>
<span class="go">Django version 3.2.13, using settings &#39;tweetmetoo.settings&#39;</span>
<span class="go">Starting development server at http://127.0.0.1:8000/</span>
<span class="go">Quit the server with CTRL-BREAK.</span>
<span class="go">[30/Apr/2022 18:37:44] &quot;GET / HTTP/1.1&quot; 200 23</span>
<span class="go">Not Found: /favicon.ico</span>
<span class="go">[30/Apr/2022 18:37:44] &quot;GET /favicon.ico HTTP/1.1&quot; 404 2232</span>
</pre></div>
</div>
</div>
<div class="section" id="dynamic-view-into-rest-api-endpoint">
<h2>0:51:32 12. Dynamic View into REST API Endpoint<a class="headerlink" href="#dynamic-view-into-rest-api-endpoint" title="Permalink to this headline"></a></h2>
<p>We will change the dynamic view to Rest API view. We will return json data.</p>
<p>The only file we made some changes was views.py</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="c1"># tweets/views.py</span>
</span><span class="kn">from</span> <span class="nn">django.http</span> <span class="kn">import</span> <span class="n">HttpResponse</span><span class="p">,</span> <span class="n">Http404</span><span class="p">,</span> <span class="n">JsonResponse</span>
<span class="kn">from</span> <span class="nn">django.shortcuts</span> <span class="kn">import</span> <span class="n">render</span>

<span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">Tweet</span>   <span class="c1"># Relative import</span>

<span class="c1"># Create your views here.</span>

<span class="k">def</span> <span class="nf">home_view</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="s2">&quot;&lt;h1&gt;Hello World!!!&lt;/h1&gt;&quot;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">home_detail_view</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">tweet_id</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    REST API VIEW</span>
<span class="sd">    return json data</span>
<span class="sd">    Consume by JavaScript or Swift or Java or iOS/Android</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">tweet_id</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">status</span> <span class="o">=</span> <span class="mi">200</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">Tweet</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">tweet_id</span><span class="p">)</span>
        <span class="n">data</span><span class="p">[</span><span class="s1">&#39;content&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">content</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">data</span><span class="p">[</span><span class="s1">&#39;message&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Not found&quot;</span>
        <span class="n">status</span> <span class="o">=</span> <span class="mi">404</span>


    <span class="k">return</span> <span class="n">JsonResponse</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="n">status</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="our-first-template">
<h2>0:55:50 13. Our First Template<a class="headerlink" href="#our-first-template" title="Permalink to this headline"></a></h2>
<p>Now we will introduce the template usage that will allow us to replase the
one line HttpResponse with an HTML page.
Under Base directory (same dir that manage.py exists) we create a folder named templates.
Include this directory to settings.py</p>
<details class="summary-show-settings-file">
<summary>show settings file</summary><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="c1"># settings.py</span>
</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Django settings for tweetmetoo project.</span>

<span class="sd">Generated by &#39;django-admin startproject&#39; using Django 3.2.13.</span>

<span class="sd">For more information on this file, see</span>
<span class="sd">https://docs.djangoproject.com/en/3.2/topics/settings/</span>

<span class="sd">For the full list of settings and their values, see</span>
<span class="sd">https://docs.djangoproject.com/en/3.2/ref/settings/</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="c1"># Build paths inside the project like this: BASE_DIR / &#39;subdir&#39;.</span>
<span class="n">BASE_DIR</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span>


<span class="c1"># Quick-start development settings - unsuitable for production</span>
<span class="c1"># See https://docs.djangoproject.com/en/3.2/howto/deployment/checklist/</span>

<span class="c1"># SECURITY WARNING: keep the secret key used in production secret!</span>
<span class="n">SECRET_KEY</span> <span class="o">=</span> <span class="s1">&#39;django-insecure-</span><span class="si">%u</span><span class="s1">o5vr70p_+x9@+g_+%qekm6qjm-zsuqpz8y@jlgf%4bg(8)2)&#39;</span>

<span class="c1"># SECURITY WARNING: don&#39;t run with debug turned on in production!</span>
<span class="n">DEBUG</span> <span class="o">=</span> <span class="kc">True</span>

<span class="n">ALLOWED_HOSTS</span> <span class="o">=</span> <span class="p">[]</span>


<span class="c1"># Application definition</span>

<span class="n">INSTALLED_APPS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;django.contrib.admin&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.auth&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.contenttypes&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.sessions&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.messages&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.staticfiles&#39;</span><span class="p">,</span>
    <span class="s1">&#39;tweets&#39;</span><span class="p">,</span>
<span class="p">]</span>

<span class="n">MIDDLEWARE</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;django.middleware.security.SecurityMiddleware&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.sessions.middleware.SessionMiddleware&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.middleware.common.CommonMiddleware&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.middleware.csrf.CsrfViewMiddleware&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.auth.middleware.AuthenticationMiddleware&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.messages.middleware.MessageMiddleware&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.middleware.clickjacking.XFrameOptionsMiddleware&#39;</span><span class="p">,</span>
<span class="p">]</span>

<span class="n">ROOT_URLCONF</span> <span class="o">=</span> <span class="s1">&#39;tweetmetoo.urls&#39;</span>

<span class="n">TEMPLATES</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="s1">&#39;BACKEND&#39;</span><span class="p">:</span> <span class="s1">&#39;django.template.backends.django.DjangoTemplates&#39;</span><span class="p">,</span>
<span class="hll">        <span class="s1">&#39;DIRS&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">BASE_DIR</span><span class="p">,</span> <span class="s1">&#39;templates&#39;</span><span class="p">)],</span>
</span>        <span class="s1">&#39;APP_DIRS&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s1">&#39;OPTIONS&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;context_processors&#39;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s1">&#39;django.template.context_processors.debug&#39;</span><span class="p">,</span>
                <span class="s1">&#39;django.template.context_processors.request&#39;</span><span class="p">,</span>
                <span class="s1">&#39;django.contrib.auth.context_processors.auth&#39;</span><span class="p">,</span>
                <span class="s1">&#39;django.contrib.messages.context_processors.messages&#39;</span><span class="p">,</span>
            <span class="p">],</span>
        <span class="p">},</span>
    <span class="p">},</span>
<span class="p">]</span>

<span class="n">WSGI_APPLICATION</span> <span class="o">=</span> <span class="s1">&#39;tweetmetoo.wsgi.application&#39;</span>


<span class="c1"># Database</span>
<span class="c1"># https://docs.djangoproject.com/en/3.2/ref/settings/#databases</span>

<span class="n">DATABASES</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;ENGINE&#39;</span><span class="p">:</span> <span class="s1">&#39;django.db.backends.sqlite3&#39;</span><span class="p">,</span>
        <span class="s1">&#39;NAME&#39;</span><span class="p">:</span> <span class="n">BASE_DIR</span> <span class="o">/</span> <span class="s1">&#39;db.sqlite3&#39;</span><span class="p">,</span>
    <span class="p">}</span>
<span class="p">}</span>


<span class="c1"># Password validation</span>
<span class="c1"># https://docs.djangoproject.com/en/3.2/ref/settings/#auth-password-validators</span>

<span class="n">AUTH_PASSWORD_VALIDATORS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="s1">&#39;NAME&#39;</span><span class="p">:</span> <span class="s1">&#39;django.contrib.auth.password_validation.UserAttributeSimilarityValidator&#39;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s1">&#39;NAME&#39;</span><span class="p">:</span> <span class="s1">&#39;django.contrib.auth.password_validation.MinimumLengthValidator&#39;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s1">&#39;NAME&#39;</span><span class="p">:</span> <span class="s1">&#39;django.contrib.auth.password_validation.CommonPasswordValidator&#39;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s1">&#39;NAME&#39;</span><span class="p">:</span> <span class="s1">&#39;django.contrib.auth.password_validation.NumericPasswordValidator&#39;</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">]</span>


<span class="c1"># Internationalization</span>
<span class="c1"># https://docs.djangoproject.com/en/3.2/topics/i18n/</span>

<span class="n">LANGUAGE_CODE</span> <span class="o">=</span> <span class="s1">&#39;en-us&#39;</span>

<span class="n">TIME_ZONE</span> <span class="o">=</span> <span class="s1">&#39;UTC&#39;</span>

<span class="n">USE_I18N</span> <span class="o">=</span> <span class="kc">True</span>

<span class="n">USE_L10N</span> <span class="o">=</span> <span class="kc">True</span>

<span class="n">USE_TZ</span> <span class="o">=</span> <span class="kc">True</span>


<span class="c1"># Static files (CSS, JavaScript, Images)</span>
<span class="c1"># https://docs.djangoproject.com/en/3.2/howto/static-files/</span>

<span class="n">STATIC_URL</span> <span class="o">=</span> <span class="s1">&#39;/static/&#39;</span>

<span class="c1"># Default primary key field type</span>
<span class="c1"># https://docs.djangoproject.com/en/3.2/ref/settings/#default-auto-field</span>

<span class="n">DEFAULT_AUTO_FIELD</span> <span class="o">=</span> <span class="s1">&#39;django.db.models.BigAutoField&#39;</span>
</pre></div>
</div>
</details><p>Under templates folder we create 2 more named tweets and pages and under pages we
create a home.html page. The way to use this new page is:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="c1"># tweets/views.py</span>
</span><span class="kn">from</span> <span class="nn">django.http</span> <span class="kn">import</span> <span class="n">Http404</span><span class="p">,</span> <span class="n">HttpResponse</span><span class="p">,</span> <span class="n">JsonResponse</span>
<span class="kn">from</span> <span class="nn">django.shortcuts</span> <span class="kn">import</span> <span class="n">render</span>
<span class="kn">from</span> <span class="nn">requests</span> <span class="kn">import</span> <span class="n">request</span>

<span class="kn">from</span> <span class="nn">tweets.models</span> <span class="kn">import</span> <span class="n">Tweet</span> <span class="c1"># or simpler from .models import Tweet (same directory)</span>

<span class="c1"># Create your views here.</span>
<span class="k">def</span> <span class="nf">home_view</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="hll">    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s2">&quot;pages/home.html&quot;</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="p">{},</span> <span class="n">status</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
</span>
<span class="k">def</span> <span class="nf">tweet_detail_view</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    REST API VIEW</span>
<span class="sd">    return json data</span>
<span class="sd">    Consume by JavaScript or Swift or Java or iOS/Android</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">data</span> <span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;pk&quot;</span><span class="p">:</span> <span class="n">pk</span><span class="p">,</span>
        <span class="c1"># &quot;image_path&quot;: obj.image.url</span>
    <span class="p">}</span>
    <span class="n">status</span> <span class="o">=</span> <span class="mi">200</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">Tweet</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">pk</span><span class="o">=</span><span class="n">pk</span><span class="p">)</span>
        <span class="n">data</span><span class="p">[</span><span class="s1">&#39;content&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">content</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">data</span><span class="p">[</span><span class="s1">&#39;message&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Not found&quot;</span>
        <span class="n">status</span> <span class="o">=</span> <span class="mi">404</span>



    <span class="k">return</span> <span class="n">JsonResponse</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="n">status</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">dynamic_routing</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&lt;h1&gt; Hello </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">. Have a nice day&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="bootstrap-django-templates">
<h2>1:00:07 14. Bootstrap &amp; Django Templates<a class="headerlink" href="#bootstrap-django-templates" title="Permalink to this headline"></a></h2>
<p>Under templates directory we create a base.html file</p>
<p>We take from getbootstrap page the starter template and copy it there</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="cm">&lt;!-- templates/base.html --&gt;</span>
</span><span class="cp">&lt;!doctype html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&quot;en&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="cm">&lt;!-- Required meta tags --&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&quot;utf-8&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;viewport&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;width=device-width, initial-scale=1&quot;</span><span class="p">&gt;</span>

    <span class="cm">&lt;!-- Bootstrap CSS --&gt;</span>
    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css&quot;</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">integrity</span><span class="o">=</span><span class="s">&quot;sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3&quot;</span> <span class="na">crossorigin</span><span class="o">=</span><span class="s">&quot;anonymous&quot;</span><span class="p">&gt;</span>


<span class="hll">    {% block head_title %}{% endblock head_title %}
</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="hll">{% block content %}
</span>
<span class="hll">{% endblock content %}
</span>
    <span class="cm">&lt;!-- Optional JavaScript; choose one of the two! --&gt;</span>

    <span class="cm">&lt;!-- Option 1: Bootstrap Bundle with Popper --&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js&quot;</span> <span class="na">integrity</span><span class="o">=</span><span class="s">&quot;sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p&quot;</span> <span class="na">crossorigin</span><span class="o">=</span><span class="s">&quot;anonymous&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

    <span class="cm">&lt;!-- Option 2: Separate Popper and Bootstrap JS --&gt;</span>
    <span class="cm">&lt;!--</span>
<span class="cm">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js&quot; integrity=&quot;sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;</span>
<span class="cm">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js&quot; integrity=&quot;sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;</span>
<span class="cm">    --&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
</div>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">the home page :file: ‘pages/home.html’</span><a class="headerlink" href="#id2" title="Permalink to this code"></a></div>
<div class="highlight-HTML notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="cm">&lt;!-- pages/home.html --&gt;</span>
</span>{% extends &#39;base.html&#39; %}


{% block head_title %}
Tweet me too
{% endblock head_title %}


{% block content %}
    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span> welcome to twetmetoo<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
{% endblock content %}
</pre></div>
</div>
</div>
</div>
<div class="section" id="tweet-list-view">
<h2>1:04:17 15. Tweet List View<a class="headerlink" href="#tweet-list-view" title="Permalink to this headline"></a></h2>
<p>The django template system is good just for reducing html code we have to write.
So we don’t have to violate the DRY concept (Don’t Repeat Yourself).</p>
<details class="summary-views-file-with-a-new-function">
<summary>views file with a new function</summary><div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">a new function within tweets.views.py</span><a class="headerlink" href="#id3" title="Permalink to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="c1"># tweets/views.py</span>
</span><span class="kn">from</span> <span class="nn">django.http</span> <span class="kn">import</span> <span class="n">Http404</span><span class="p">,</span> <span class="n">HttpResponse</span><span class="p">,</span> <span class="n">JsonResponse</span>
<span class="kn">from</span> <span class="nn">django.shortcuts</span> <span class="kn">import</span> <span class="n">render</span>
<span class="kn">import</span> <span class="nn">pkg_resources</span>
<span class="kn">from</span> <span class="nn">requests</span> <span class="kn">import</span> <span class="n">request</span>

<span class="kn">from</span> <span class="nn">tweets.models</span> <span class="kn">import</span> <span class="n">Tweet</span> <span class="c1"># or simpler from .models import Tweet (same directory)</span>

<span class="c1"># Create your views here.</span>
<span class="k">def</span> <span class="nf">home_view</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s2">&quot;pages/home.html&quot;</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="p">{},</span> <span class="n">status</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">tweet_list_view</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    REST API VIEW</span>
<span class="sd">    return json data</span>
<span class="sd">    Consume by JavaScript or Swift or Java or iOS/Android</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">qs</span> <span class="o">=</span> <span class="n">Tweet</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
    <span class="c1"># My approach witch by the way i think is simpler</span>
<span class="hll">    <span class="k">for</span> <span class="n">tweet</span> <span class="ow">in</span> <span class="n">qs</span><span class="p">:</span>
</span><span class="hll">        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="hll">            <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="n">tweet</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
</span><span class="hll">            <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="n">tweet</span><span class="o">.</span><span class="n">content</span><span class="p">,</span>
</span><span class="hll">        <span class="p">}</span>
</span><span class="hll">    <span class="c1"># Or another way to tacle this:</span>
</span><span class="hll">    <span class="n">tweets_list</span> <span class="o">=</span> <span class="p">[]</span>
</span><span class="hll">    <span class="c1"># with 1 or many lines</span>
</span><span class="hll">    <span class="c1"># tweet_list = [{&quot;id&quot;: x.id, &quot;content&quot;: x.content} for x in qs]</span>
</span><span class="hll">    <span class="k">for</span> <span class="n">tweet</span> <span class="ow">in</span> <span class="n">qs</span><span class="p">:</span>
</span><span class="hll">        <span class="n">tweets_list</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
</span><span class="hll">            <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="n">tweet</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
</span><span class="hll">            <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="n">tweet</span><span class="o">.</span><span class="n">content</span><span class="p">,</span>
</span><span class="hll">        <span class="p">})</span>
</span><span class="hll">    <span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="hll">        <span class="s2">&quot;response&quot;</span><span class="p">:</span> <span class="n">tweets_list</span>
</span><span class="hll">    <span class="p">}</span>
</span><span class="hll">    <span class="k">return</span> <span class="n">JsonResponse</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
</span>
<span class="k">def</span> <span class="nf">tweet_detail_view</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    REST API VIEW</span>
<span class="sd">    return json data</span>
<span class="sd">    Consume by JavaScript or Swift or Java or iOS/Android</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">data</span> <span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;pk&quot;</span><span class="p">:</span> <span class="n">pk</span><span class="p">,</span>
        <span class="c1"># &quot;image_path&quot;: obj.image.url</span>
    <span class="p">}</span>
    <span class="n">status</span> <span class="o">=</span> <span class="mi">200</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">Tweet</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">pk</span><span class="o">=</span><span class="n">pk</span><span class="p">)</span>
        <span class="n">data</span><span class="p">[</span><span class="s1">&#39;content&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">content</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">data</span><span class="p">[</span><span class="s1">&#39;message&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Not found&quot;</span>
        <span class="n">status</span> <span class="o">=</span> <span class="mi">404</span>



    <span class="k">return</span> <span class="n">JsonResponse</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="n">status</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">dynamic_routing</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&lt;h1&gt; Hello </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">. Have a nice day&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details></div>
<div class="section" id="dynamic-load-tweets-via-javascript">
<h2>1:08:01 16. Dynamic Load Tweets via JavaScript<a class="headerlink" href="#dynamic-load-tweets-via-javascript" title="Permalink to this headline"></a></h2>
<p>Now in order to load to my home page all the data that localhost/tweets endpoint has
we have to use javascript.</p>
<p>Within home.html i add a script tag to put inside javascript.</p>
</div>
<div class="section" id="tweets-to-html-via-javascript">
<h2>1:18:19 18. Tweets to HTML via JavaScript<a class="headerlink" href="#tweets-to-html-via-javascript" title="Permalink to this headline"></a></h2>
<details class="summary-reveal-home-html-file">
<summary>reveal home.html file</summary><div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="cm">&lt;!-- pages/home.html --&gt;</span>
</span>{% extends &#39;base.html&#39; %}


{% block head_title %}
<span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Tweet me too<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
{% endblock head_title %}


{% block content %}
<span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span> welcome to twetmetoo<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;tweets&quot;</span><span class="p">&gt;</span>
    Replace me with something
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="cm">&lt;!--Script tag allows me to type javascript inside html--&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span><span class="w"></span>
<span class="kd">const</span><span class="w"> </span><span class="nx">tweetsElement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;tweets&#39;</span><span class="p">)</span><span class="w">  </span><span class="c1">// get html elements</span><span class="w"></span>
<span class="c1">// tweetsElement.innerHTML = `Wait loading tweets....   &lt;br&gt;&lt;br&gt;`              // set new html content in that element</span><span class="w"></span>



<span class="kd">const</span><span class="w"> </span><span class="nx">xhr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">XMLHttpRequest</span><span class="p">()</span><span class="w"></span>
<span class="kd">const</span><span class="w"> </span><span class="nx">method</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;GET&quot;</span><span class="w"> </span><span class="c1">//&quot;POST&quot;</span><span class="w"></span>
<span class="kd">const</span><span class="w"> </span><span class="nx">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;/tweets&quot;</span><span class="w"></span>
<span class="kd">const</span><span class="w"> </span><span class="nx">responseType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;json&quot;</span><span class="w"></span>

<span class="c1">// Now i can perform the request</span><span class="w"></span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">responseType</span><span class="w"> </span><span class="o">=</span><span class="nx">responseType</span><span class="w"></span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="nx">method</span><span class="p">,</span><span class="w"> </span><span class="nx">url</span><span class="p">)</span><span class="w"></span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">onload</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">xhr</span><span class="p">.</span><span class="nx">response</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">serverResponse</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">xhr</span><span class="p">.</span><span class="nx">response</span><span class="w"></span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">listedItems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">serverResponse</span><span class="p">.</span><span class="nx">response</span><span class="w">  </span><span class="c1">// array (python list), response is the key that contains a list from the data dictionairy</span><span class="w"></span>
<span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">finalTweetStr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w"></span>
<span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">i</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">listedItems</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">listedItems</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span><span class="w"></span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="nx">currentItem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&lt;div class=&#39;mb-4&#39;&gt;&lt;h1&gt;&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">listedItems</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">id</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;&lt;/h1&gt;&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;&lt;p&gt;&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">listedItems</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">content</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;&lt;/p&gt;&lt;/div&gt;&quot;</span><span class="w"></span>
<span class="w">        </span><span class="nx">finalTweetStr</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="nx">currentItem</span><span class="w"></span>

<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="nx">tweetsElement</span><span class="p">.</span><span class="nx">innerHTML</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="nx">finalTweetStr</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">send</span><span class="p">()</span><span class="w"> </span><span class="c1">// triggers the request for me</span><span class="w"></span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
{% endblock content %}
</pre></div>
</div>
</details></div>
<div class="section" id="format-tweet-method">
<h2>1:25:56 19. Format Tweet Method<a class="headerlink" href="#format-tweet-method" title="Permalink to this headline"></a></h2>
<details class="summary-reveal-home-html-file">
<summary>reveal home.html file</summary><div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="cm">&lt;!-- pages/home.html --&gt;</span>
</span>{% extends &#39;base.html&#39; %}


{% block head_title %}
<span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Tweet me too<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
{% endblock head_title %}


{% block content %}
<span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span> welcome to twetmetoo<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;tweets&quot;</span><span class="p">&gt;</span>
    Replace me with something
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="cm">&lt;!--Script tag allows me to type javascript inside html--&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span><span class="w"></span>
<span class="kd">const</span><span class="w"> </span><span class="nx">tweetsElement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;tweets&#39;</span><span class="p">)</span><span class="w">  </span><span class="c1">// get html elements</span><span class="w"></span>
<span class="c1">// tweetsElement.innerHTML = `Wait loading tweets....   &lt;br&gt;&lt;br&gt;`              // set new html content in that element</span><span class="w"></span>



<span class="kd">const</span><span class="w"> </span><span class="nx">xhr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">XMLHttpRequest</span><span class="p">()</span><span class="w"></span>
<span class="kd">const</span><span class="w"> </span><span class="nx">method</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;GET&quot;</span><span class="w"> </span><span class="c1">//&quot;POST&quot;</span><span class="w"></span>
<span class="kd">const</span><span class="w"> </span><span class="nx">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;/tweets&quot;</span><span class="w"></span>
<span class="kd">const</span><span class="w"> </span><span class="nx">responseType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;json&quot;</span><span class="w"></span>

<span class="kd">function</span><span class="w"> </span><span class="nx">formatTweetElement</span><span class="p">(</span><span class="nx">tweet</span><span class="p">){</span><span class="w"></span>
<span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">formattedTweet</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`&lt;div class=&#39;mb-4 tweet&#39; id= &#39;&quot;tweet-&quot; + </span><span class="si">${</span><span class="nx">tweet</span><span class="p">.</span><span class="nx">id</span><span class="si">}</span><span class="sb">&#39;&gt;&lt;p&gt;  </span><span class="si">${</span><span class="nx">tweet</span><span class="p">.</span><span class="nx">content</span><span class="si">}</span><span class="sb">  &lt;/p&gt;&lt;/div&gt;`</span><span class="w"></span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">formattedTweet</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="c1">// Now i can perform the request</span><span class="w"></span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">responseType</span><span class="w"> </span><span class="o">=</span><span class="nx">responseType</span><span class="w"></span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="nx">method</span><span class="p">,</span><span class="w"> </span><span class="nx">url</span><span class="p">)</span><span class="w"></span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">onload</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">xhr</span><span class="p">.</span><span class="nx">response</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">serverResponse</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">xhr</span><span class="p">.</span><span class="nx">response</span><span class="w"></span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">listedItems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">serverResponse</span><span class="p">.</span><span class="nx">response</span><span class="w">  </span><span class="c1">// array (python list), response is the key that contains a list from the data dictionairy</span><span class="w"></span>
<span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">finalTweetStr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w"></span>
<span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">i</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">listedItems</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="nx">tweetobj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">listedItems</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="w"></span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="nx">currentItem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">formatTweetElement</span><span class="p">(</span><span class="nx">tweetobj</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="nx">finalTweetStr</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="nx">currentItem</span><span class="w"></span>

<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="nx">tweetsElement</span><span class="p">.</span><span class="nx">innerHTML</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="nx">finalTweetStr</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">send</span><span class="p">()</span><span class="w"> </span><span class="c1">// triggers the request for me</span><span class="w"></span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
{% endblock content %}
</pre></div>
</div>
</details></div>
<div class="section" id="like-button-rendering">
<h2>1:29:30 20. Like Button Rendering<a class="headerlink" href="#like-button-rendering" title="Permalink to this headline"></a></h2>
<details class="summary-reveal-home-html-file">
<summary>reveal home.html file</summary><div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="cm">&lt;!-- pages/home.html --&gt;</span>
</span>
{% extends &#39;base.html&#39; %}

{% block head_title %}
<span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Tweet me too<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
{% endblock head_title %}


{% block content %}
<span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span> welcome to tweet me too<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;tweets&quot;</span><span class="p">&gt;</span>
    Wait loading tweets....
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="cm">&lt;!--Script tag allows me to type javascript inside html--&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span><span class="w"></span>
<span class="kd">const</span><span class="w"> </span><span class="nx">tweetsElement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;tweets&#39;</span><span class="p">)</span><span class="w"></span>

<span class="kd">const</span><span class="w"> </span><span class="nx">xhr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">XMLHttpRequest</span><span class="p">()</span><span class="w"></span>
<span class="kd">const</span><span class="w"> </span><span class="nx">method</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;GET&quot;</span><span class="w"></span>
<span class="kd">const</span><span class="w"> </span><span class="nx">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;/tweets&quot;</span><span class="w"></span>
<span class="kd">const</span><span class="w"> </span><span class="nx">responseType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;json&quot;</span><span class="w"></span>

<span class="kd">function</span><span class="w"> </span><span class="nx">handleDidLike</span><span class="p">(</span><span class="nx">tweet_id</span><span class="p">,</span><span class="w"> </span><span class="nx">currentCount</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">tweet_id</span><span class="p">,</span><span class="w"> </span><span class="nx">currentCount</span><span class="p">)</span><span class="w"></span>

<span class="p">}</span><span class="w"></span>

<span class="kd">function</span><span class="w"> </span><span class="nx">likeBtn</span><span class="p">(</span><span class="nx">tweet</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="sb">`</span>
<span class="sb">    &lt;button</span>
<span class="sb">        type=&#39;button&#39;</span>
<span class="sb">        class=&#39;btn btn-primary btn-small&#39;</span>
<span class="sb">        onclick= handleDidLike(</span><span class="si">${</span><span class="nx">tweet</span><span class="p">.</span><span class="nx">id</span><span class="si">}</span><span class="sb">, </span><span class="si">${</span><span class="nx">tweet</span><span class="p">.</span><span class="nx">likes</span><span class="si">}</span><span class="sb">)</span>
<span class="sb">    &gt;</span>
<span class="sb">    </span><span class="si">${</span><span class="nx">tweet</span><span class="p">.</span><span class="nx">likes</span><span class="si">}</span><span class="sb"> Likes</span>
<span class="sb">    &lt;/button&gt;</span>
<span class="sb">`</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kd">function</span><span class="w"> </span><span class="nx">formatTweetElement</span><span class="p">(</span><span class="nx">tweet</span><span class="p">){</span><span class="w"></span>
<span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">formattedTweet</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`</span>
<span class="sb">    &lt;div</span>
<span class="sb">        class=&#39;mb-4 tweet&#39;</span>
<span class="sb">        id= &quot;&#39;tweet-&#39; </span><span class="si">${</span><span class="nx">tweet</span><span class="p">.</span><span class="nx">id</span><span class="si">}</span><span class="sb">&quot;</span>
<span class="sb">    &gt;</span>
<span class="sb">        &lt;p&gt;</span>
<span class="sb">            </span><span class="si">${</span><span class="nx">tweet</span><span class="p">.</span><span class="nx">content</span><span class="si">}</span><span class="sb"></span>
<span class="sb">        &lt;/p&gt;</span>
<span class="sb">        &lt;div</span>
<span class="sb">            class=&#39;btn-group&#39;</span>
<span class="sb">        &gt;</span>
<span class="sb">            </span><span class="si">${</span><span class="nx">likeBtn</span><span class="p">(</span><span class="nx">tweet</span><span class="p">)</span><span class="si">}</span><span class="sb"></span>
<span class="sb">        &lt;/div&gt;</span>
<span class="sb">    &lt;/div&gt;</span>
<span class="sb">    `</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">formattedTweet</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="nx">xhr</span><span class="p">.</span><span class="nx">responseType</span><span class="w"> </span><span class="o">=</span><span class="nx">responseType</span><span class="w"></span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="nx">method</span><span class="p">,</span><span class="w"> </span><span class="nx">url</span><span class="p">)</span><span class="w"></span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">onload</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">serverResponse</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">xhr</span><span class="p">.</span><span class="nx">response</span><span class="w"></span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">listedItems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">serverResponse</span><span class="p">.</span><span class="nx">response</span><span class="w"></span>
<span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">finalTweetStr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w"></span>
<span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">i</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">listedItems</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="nx">tweetobj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">listedItems</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="w"></span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="nx">currentItem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">formatTweetElement</span><span class="p">(</span><span class="nx">tweetobj</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="nx">finalTweetStr</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="nx">currentItem</span><span class="w"></span>

<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="nx">tweetsElement</span><span class="p">.</span><span class="nx">innerHTML</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="nx">finalTweetStr</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">send</span><span class="p">()</span><span class="w"></span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
{% endblock content %}
</pre></div>
</div>
</details></div>
<div class="section" id="tweet-create-form">
<h2>1:48:00 22. Tweet Create Form<a class="headerlink" href="#tweet-create-form" title="Permalink to this headline"></a></h2>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">‘tweets/forms.py’</span><a class="headerlink" href="#id4" title="Permalink to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="c1"># tweets/forms.py</span>
</span><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">fields</span>
<span class="kn">from</span> <span class="nn">pyexpat</span> <span class="kn">import</span> <span class="n">model</span>
<span class="kn">from</span> <span class="nn">unittest.util</span> <span class="kn">import</span> <span class="n">_MAX_LENGTH</span>
<span class="kn">from</span> <span class="nn">django</span> <span class="kn">import</span> <span class="n">forms</span>

<span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">Tweet</span>

<span class="n">MAX_TWEET_LENGTH</span> <span class="o">=</span> <span class="mi">240</span>

<span class="k">class</span> <span class="nc">TweetForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">ModelForm</span><span class="p">):</span>

    <span class="c1"># declare actual form</span>
    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">Tweet</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;content&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">clean_content</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">content</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cleaned_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;content&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">content</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">MAX_TWEET_LENGTH</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">forms</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="s2">&quot;Thiw tweet is too long&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">content</span>
</pre></div>
</div>
</div>
<details class="summary-reveal-views-py-file">
<summary>reveal views.py file</summary><div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-text">tweets/views.py</span><a class="headerlink" href="#id5" title="Permalink to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="c1"># tweets/views.py</span>
</span><span class="kn">from</span> <span class="nn">django.http</span> <span class="kn">import</span> <span class="n">Http404</span><span class="p">,</span> <span class="n">HttpResponse</span><span class="p">,</span> <span class="n">JsonResponse</span>
<span class="kn">from</span> <span class="nn">django.shortcuts</span> <span class="kn">import</span> <span class="n">render</span>
<span class="c1"># import pkg_resources</span>
<span class="kn">from</span> <span class="nn">requests</span> <span class="kn">import</span> <span class="n">request</span>


<span class="kn">from</span> <span class="nn">.forms</span> <span class="kn">import</span> <span class="n">TweetForm</span>
<span class="kn">from</span> <span class="nn">tweets.models</span> <span class="kn">import</span> <span class="n">Tweet</span> <span class="c1"># or simpler from .models import Tweet (same directory)</span>

<span class="kn">import</span> <span class="nn">random</span>

<span class="c1"># Create your views here.</span>
<span class="k">def</span> <span class="nf">home_view</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s2">&quot;pages/home.html&quot;</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="p">{},</span> <span class="n">status</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>


<span class="hll"><span class="k">def</span> <span class="nf">tweet_create_view</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span class="hll">    <span class="n">form</span> <span class="o">=</span> <span class="n">TweetForm</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">POST</span> <span class="ow">or</span> <span class="kc">None</span><span class="p">)</span>
</span><span class="hll">    <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">():</span>
</span><span class="hll">        <span class="n">obj</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">commit</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span class="hll">        <span class="c1"># do other form related logic</span>
</span><span class="hll">        <span class="n">obj</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</span><span class="hll">        <span class="n">form</span> <span class="o">=</span> <span class="n">TweetForm</span><span class="p">()</span> <span class="c1"># reinitialize a new blank form</span>
</span><span class="hll">    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;components/form.html&#39;</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;form&quot;</span><span class="p">:</span> <span class="n">form</span><span class="p">},</span> <span class="n">status</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
</span>

<span class="k">def</span> <span class="nf">tweet_list_view</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    REST API VIEW</span>
<span class="sd">    return json data</span>
<span class="sd">    Consume by JavaScript or Swift or Java or iOS/Android</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">qs</span> <span class="o">=</span> <span class="n">Tweet</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
    <span class="c1"># My approach witch by the way i think is simpler</span>
    <span class="k">for</span> <span class="n">tweet</span> <span class="ow">in</span> <span class="n">qs</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="n">tweet</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="n">tweet</span><span class="o">.</span><span class="n">content</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="c1"># Or another way to tacle this:</span>
    <span class="n">tweets_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="c1"># with 1 or many lines</span>
    <span class="c1"># tweet_list = [{&quot;id&quot;: x.id, &quot;content&quot;: x.content} for x in qs]</span>
    <span class="k">for</span> <span class="n">tweet</span> <span class="ow">in</span> <span class="n">qs</span><span class="p">:</span>
        <span class="n">tweets_list</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
            <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="n">tweet</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="n">tweet</span><span class="o">.</span><span class="n">content</span><span class="p">,</span>
            <span class="s1">&#39;likes&#39;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1459</span><span class="p">)</span>
        <span class="p">})</span>
    <span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;response&quot;</span><span class="p">:</span> <span class="n">tweets_list</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">JsonResponse</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">tweet_detail_view</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    REST API VIEW</span>
<span class="sd">    return json data</span>
<span class="sd">    Consume by JavaScript or Swift or Java or iOS/Android</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">data</span> <span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;pk&quot;</span><span class="p">:</span> <span class="n">pk</span><span class="p">,</span>
        <span class="c1"># &quot;image_path&quot;: obj.image.url</span>
    <span class="p">}</span>
    <span class="n">status</span> <span class="o">=</span> <span class="mi">200</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">Tweet</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">pk</span><span class="o">=</span><span class="n">pk</span><span class="p">)</span>
        <span class="n">data</span><span class="p">[</span><span class="s1">&#39;content&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">content</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">data</span><span class="p">[</span><span class="s1">&#39;message&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Not found&quot;</span>
        <span class="n">status</span> <span class="o">=</span> <span class="mi">404</span>



    <span class="k">return</span> <span class="n">JsonResponse</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="n">status</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">dynamic_routing</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&lt;h1&gt; Hello </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">. Have a nice day&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details><div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-text">‘templates/components/form.html’</span><a class="headerlink" href="#id6" title="Permalink to this code"></a></div>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="cm">&lt;!--templates/components/form.html--&gt;</span>
</span><span class="p">&lt;</span><span class="nt">form</span> <span class="na">method</span><span class="o">=</span><span class="s">&#39;POST&#39;</span><span class="p">&gt;</span> {% csrf_token %}
    {{ form.as_p }}
    <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">&#39;submit&#39;</span> <span class="na">class</span><span class="o">=</span><span class="s">&#39;btn btn-secondary&#39;</span><span class="p">&gt;</span>Save<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id7">
<div class="code-block-caption"><span class="caption-text">‘tweets/urls.py’</span><a class="headerlink" href="#id7" title="Permalink to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="c1"># tweets/urls.py</span>
</span><span class="kn">from</span> <span class="nn">django.contrib</span> <span class="kn">import</span> <span class="n">admin</span>
<span class="kn">from</span> <span class="nn">django.urls</span> <span class="kn">import</span> <span class="n">path</span>
<span class="kn">from</span> <span class="nn">tweets</span> <span class="kn">import</span> <span class="n">views</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;admin/&#39;</span><span class="p">,</span> <span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">urls</span><span class="p">),</span>
<span class="hll">    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">home_view</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;home-view&#39;</span><span class="p">),</span>
</span>    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;create_tweet/&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">tweet_create_view</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;create-tweet-view&quot;</span><span class="p">),</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;tweets/&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">tweet_list_view</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;tweet-list-view&quot;</span><span class="p">),</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;tweets_detail/&lt;int:pk&gt;&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">tweet_detail_view</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;tweet-detail-view&quot;</span><span class="p">),</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;dynamic_routing/&lt;str:name&gt;&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">dynamic_routing</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;dynamic-routing&quot;</span><span class="p">),</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="serialize-django-model-object">
<h2>2:26:47 29. Serialize Django Model Object<a class="headerlink" href="#serialize-django-model-object" title="Permalink to this headline"></a></h2>
<p><a class="reference external" href="https://github.com/Otinanai1309/tweetmetoo/commit/4255cefa2e6a36885832eaefa432a2ae34a98e95">https://github.com/Otinanai1309/tweetmetoo/commit/4255cefa2e6a36885832eaefa432a2ae34a98e95</a></p>
</div>
<div class="section" id="append-new-tweet-reorder">
<h2>2:33:33 30. Append New Tweet &amp; Reorder<a class="headerlink" href="#append-new-tweet-reorder" title="Permalink to this headline"></a></h2>
<p><a class="reference external" href="https://github.com/Otinanai1309/tweetmetoo/commit/a61345f4d0961b548f766f880e627c4de95b12b4">https://github.com/Otinanai1309/tweetmetoo/commit/a61345f4d0961b548f766f880e627c4de95b12b4</a></p>
</div>
<div class="section" id="handling-form-errors">
<h2>2:37:09 31. Handling Form Errors<a class="headerlink" href="#handling-form-errors" title="Permalink to this headline"></a></h2>
<p><a class="reference external" href="https://github.com/Otinanai1309/tweetmetoo/commit/73f7d517921bb70a12bbb17c1514dcc8acc349d0">https://github.com/Otinanai1309/tweetmetoo/commit/73f7d517921bb70a12bbb17c1514dcc8acc349d0</a></p>
</div>
<div class="section" id="rendering-the-error-message-via-vanilla-javascript">
<h2>2:42:18 32. Rendering the Error Message via Vanilla JavaScript<a class="headerlink" href="#rendering-the-error-message-via-vanilla-javascript" title="Permalink to this headline"></a></h2>
<p><a class="reference external" href="https://github.com/Otinanai1309/tweetmetoo/commit/c5f3187f59f2bcfc4d0477a519b82fcb70fb4b56">https://github.com/Otinanai1309/tweetmetoo/commit/c5f3187f59f2bcfc4d0477a519b82fcb70fb4b56</a></p>
</div>
<div class="section" id="users-tweets">
<h2>2:49:28 33. Users &amp; Tweets<a class="headerlink" href="#users-tweets" title="Permalink to this headline"></a></h2>
<p><a class="reference external" href="https://github.com/Otinanai1309/tweetmetoo/commit/a6ba0b3ce0ddb7f806d784b3c0e2bd8fba3d34d1">https://github.com/Otinanai1309/tweetmetoo/commit/a6ba0b3ce0ddb7f806d784b3c0e2bd8fba3d34d1</a></p>
</div>
<div class="section" id="django-admin">
<h2>2:57:09 34. Django Admin<a class="headerlink" href="#django-admin" title="Permalink to this headline"></a></h2>
<p>if i want to make my admin site more rowbust and add a functionality where i can look for tweets by username.</p>
<p>Lets first see how i can do it within shell.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="gp">$ </span>python manage.py shell
</span><span class="go">&gt;&gt;&gt; from tweets.models import Tweet</span>
<span class="go">&gt;&gt;&gt; qs = Tweet.objects.filter(id=1)</span>
<span class="go">&gt;&gt;&gt; qs</span>
<span class="go">&lt;QuerySet [&lt;Tweet: Tweet object (1)&gt;]&gt;</span>
<span class="hll"><span class="go">&gt;&gt;&gt; qs = Tweet.objects.filter(user__username=&quot;christos&quot;)</span>
</span><span class="go">&gt;&gt;&gt; qs</span>
<span class="go">&lt;QuerySet [&lt;Tweet: Tweet object (13)&gt;, &lt;Tweet: Tweet object (12)&gt;, &lt;Tweet: Tweet object (11)&gt;, &lt;Tweet: Tweet object (10)&gt;, &lt;Tweet: Tweet object (9)&gt;, &lt;Tweet: Tweet object (8)&gt;, &lt;Tweet: Tweet object (7)&gt;, &lt;Tweet: Tweet object (6)&gt;, &lt;Tweet: Tweet object (5)&gt;, &lt;Tweet: Tweet object (4)&gt;, &lt;Tweet: Tweet object (3)&gt;, &lt;Tweet: Tweet object (2)&gt;, &lt;Tweet: Tweet object (1)&gt;]&gt;</span>
<span class="hll"><span class="go">&gt;&gt;&gt; qs = Tweet.objects.filter(user=1)</span>
</span><span class="go">&gt;&gt;&gt; qs</span>
<span class="go">&lt;QuerySet [&lt;Tweet: Tweet object (13)&gt;, &lt;Tweet: Tweet object (12)&gt;, &lt;Tweet: Tweet object (11)&gt;, &lt;Tweet: Tweet object (10)&gt;, &lt;Tweet: Tweet object (9)&gt;, &lt;Tweet: Tweet object (8)&gt;, &lt;Tweet: Tweet object (7)&gt;, &lt;Tweet: Tweet object (6)&gt;, &lt;Tweet: Tweet object (5)&gt;, &lt;Tweet: Tweet object (4)&gt;, &lt;Tweet: Tweet object (3)&gt;, &lt;Tweet: Tweet object (2)&gt;, &lt;Tweet: Tweet object (1)&gt;]&gt;</span>
</pre></div>
</div>
<p><a class="reference external" href="https://github.com/Otinanai1309/tweetmetoo/commit/aa22b3c19a6796f204f1572eee56dc04b0cf84f6">https://github.com/Otinanai1309/tweetmetoo/commit/aa22b3c19a6796f204f1572eee56dc04b0cf84f6</a></p>
</div>
<div class="section" id="associate-authenticated-user-to-object">
<h2>3:07:23 35. Associate Authenticated User to Object<a class="headerlink" href="#associate-authenticated-user-to-object" title="Permalink to this headline"></a></h2>
<p><a class="reference external" href="https://github.com/Otinanai1309/tweetmetoo/commit/205fcbd436d3f6524c1bba5ac56987afae7a61ac">https://github.com/Otinanai1309/tweetmetoo/commit/205fcbd436d3f6524c1bba5ac56987afae7a61ac</a></p>
</div>
<div class="section" id="permissions-roadmap">
<h2>3:13:00 36. Permissions &amp; Roadmap<a class="headerlink" href="#permissions-roadmap" title="Permalink to this headline"></a></h2>
<p><a class="reference external" href="https://github.com/Otinanai1309/tweetmetoo/commit/3db3a8751bd23be1421cd3108a2b9c1e382fce81">https://github.com/Otinanai1309/tweetmetoo/commit/3db3a8751bd23be1421cd3108a2b9c1e382fce81</a></p>
<p>And now we have just reached the django and JavaScript limitations. The code has began complicated.
Time to use Rest Framework and React.</p>
</div>
<div class="section" id="install-django-rest-framework">
<h2>3:16:16 37. Install Django Rest Framework<a class="headerlink" href="#install-django-rest-framework" title="Permalink to this headline"></a></h2>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="gp">$ </span>pip install djangorestframework
</span><span class="go">Collecting djangorestframework</span>
<span class="go">Downloading djangorestframework-3.13.1-py3-none-any.whl (958 kB)</span>
<span class="go">    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 958.3/958.3 KB 2.3 MB/s eta 0:00:00</span>
<span class="go">Requirement already satisfied: pytz in c:\mydjangorestfullreactapps\twitterlikeapp2\venv\lib\site-packages (from djangorestframework) (2022.1)</span>
<span class="go">Requirement already satisfied: django&gt;=2.2 in c:\mydjangorestfullreactapps\twitterlikeapp2\venv\lib\site-packages (from djangorestframework) (3.2.13)</span>
<span class="go">Requirement already satisfied: asgiref&lt;4,&gt;=3.3.2 in c:\mydjangorestfullreactapps\twitterlikeapp2\venv\lib\site-packages (from django&gt;=2.2-&gt;djangorestframework) (3.5.0)</span>
<span class="go">Requirement already satisfied: sqlparse&gt;=0.2.2 in c:\mydjangorestfullreactapps\twitterlikeapp2\venv\lib\site-packages (from</span>
<span class="go">django&gt;=2.2-&gt;djangorestframework) (0.4.2)</span>
<span class="go">Installing collected packages: djangorestframework</span>
<span class="go">Successfully installed djangorestframework-3.13.1</span>
</pre></div>
</div>
<p><a class="reference external" href="https://github.com/Otinanai1309/tweetmetoo/commit/a88d2b6b47cfc5138f6e2dff58632b5922abb657">https://github.com/Otinanai1309/tweetmetoo/commit/a88d2b6b47cfc5138f6e2dff58632b5922abb657</a></p>
</div>
<div class="section" id="django-forms-to-django-rest-framework-serializer">
<h2>3:18:20 38. Django Forms to Django Rest Framework Serializer<a class="headerlink" href="#django-forms-to-django-rest-framework-serializer" title="Permalink to this headline"></a></h2>
<p><a class="reference external" href="https://github.com/Otinanai1309/tweetmetoo/commit/d0e225d07faa4f79531f2af01f14c023b9b78655">https://github.com/Otinanai1309/tweetmetoo/commit/d0e225d07faa4f79531f2af01f14c023b9b78655</a></p>
</div>
<div class="section" id="django-views-to-django-rest-framework-views">
<h2>3:27:42 39. Django Views to Django Rest Framework Views<a class="headerlink" href="#django-views-to-django-rest-framework-views" title="Permalink to this headline"></a></h2>
<p><a class="reference external" href="https://github.com/Otinanai1309/tweetmetoo/commit/265467e548b67eddc6a8ec029c87cfd797dd5892">https://github.com/Otinanai1309/tweetmetoo/commit/265467e548b67eddc6a8ec029c87cfd797dd5892</a></p>
</div>
<div class="section" id="permissions-and-authentication-classes-decorators-for-drf-apis">
<h2>3:35:50 40. Permissions and Authentication Classes Decorators for DRF APIs<a class="headerlink" href="#permissions-and-authentication-classes-decorators-for-drf-apis" title="Permalink to this headline"></a></h2>
<p><a class="reference external" href="https://github.com/Otinanai1309/tweetmetoo/commit/ef4395875bd63233ba150f6d3478a5df2bfa78d2">https://github.com/Otinanai1309/tweetmetoo/commit/ef4395875bd63233ba150f6d3478a5df2bfa78d2</a></p>
</div>
<div class="section" id="delete-tweet-api-view">
<h2>3:43:08 41. Delete Tweet API View<a class="headerlink" href="#delete-tweet-api-view" title="Permalink to this headline"></a></h2>
<p><a class="reference external" href="https://github.com/Otinanai1309/tweetmetoo/commit/ab4a828dbae0c35cc8ac11bade68940101b45b32">https://github.com/Otinanai1309/tweetmetoo/commit/ab4a828dbae0c35cc8ac11bade68940101b45b32</a></p>
</div>
<div class="section" id="adding-a-like-field">
<h2>3:49:43 42. Adding a Like Field<a class="headerlink" href="#adding-a-like-field" title="Permalink to this headline"></a></h2>
<p><a class="reference external" href="https://github.com/Otinanai1309/tweetmetoo/commit/6a65ac56e53818ce1a329dbd760b5d61fe4b627e">https://github.com/Otinanai1309/tweetmetoo/commit/6a65ac56e53818ce1a329dbd760b5d61fe4b627e</a></p>
</div>
<div class="section" id="understanding-setting-manytomayfields">
<h2>3:56:00 43. Understanding Setting ManyToMayFields<a class="headerlink" href="#understanding-setting-manytomayfields" title="Permalink to this headline"></a></h2>
<p>First we will use pythons shell to work with Likes and Tweets directly to the database.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="gp">$ </span>python manage.py shell
</span><span class="go">&gt;&gt;&gt; from tweets.models import Tweet</span>
<span class="go">&gt;&gt;&gt; from tweets.models import TweetLike</span>
<span class="go">&gt;&gt;&gt; TweetLike.objects.all()</span>
<span class="go">&lt;QuerySet [&lt;TweetLike: TweetLike object (1)&gt;, &lt;TweetLike: TweetLike object (2)&gt;]&gt;</span>
<span class="hll"><span class="go">&gt;&gt;&gt; TweetLike.objects.all().delete()</span>
</span><span class="gp gp-VirtualEnv">(2, {&#39;tweets.TweetLike&#39;: 2})</span>
<span class="go">&gt;&gt;&gt; TweetLike.objects.all()</span>
<span class="go">&lt;QuerySet []&gt;</span>

<span class="go">&gt;&gt;&gt; Tweet.objects.all()</span>
<span class="go">&lt;QuerySet [&lt;Tweet: 52    a new tweet&gt;, &lt;Tweet: 51    kello there!!!&gt;, &lt;Tweet: 50    Here we go!!!!&gt;, &lt;Tweet: 47    Yet another try with that obj&gt;, &lt;Tweet: 46    another try with staus 200&gt;, &lt;Tweet: 45    another try with staus 200&gt;, &lt;Tweet: 44    HI there!! Whats up?&gt;,</span>
<span class="go">&lt;Tweet: 43    asdasd&gt;, &lt;Tweet: 42    a new tweet&gt;, &lt;Tweet: 13    Another tweet with redirect and is_safe_url implemented!!&gt;, &lt;Tweet: 12    Yet another cool tweet!&gt;, &lt;Tweet: 11    Another cool tweet!!&gt;, &lt;Tweet: 10    Yet another testing tweet!&gt;, &lt;Tweet: 9    again!!!&gt;, &lt;Tweet: 8    Another tweet&gt;, &lt;Tweet: 7    Hello, yet again!!!&gt;, &lt;Tweet: 6    Hello, again!&gt;, &lt;Tweet: 5    Hi there!&gt;, &lt;Tweet: 4    my forth attemp will be succesful!&gt;, &lt;Tweet: 3</span>
<span class="go">My third demand for help&gt;, &#39;...(remaining elements truncated)...&#39;]&gt;</span>
<span class="go">&gt;&gt;&gt; obj = Tweet.objects.first()</span>
<span class="go">&gt;&gt;&gt; obj.likes.all()</span>
<span class="go">&lt;QuerySet []&gt;</span>
<span class="go">&gt;&gt;&gt; from django.contrib.auth import get_user_model</span>
<span class="go">&gt;&gt;&gt; User = get_user_model()</span>
<span class="go">&gt;&gt;&gt; User.objects.all()</span>
<span class="go">&lt;QuerySet [&lt;User: christos&gt;]&gt;</span>
<span class="go">&gt;&gt;&gt; me = User.objects.first()</span>
<span class="go">&gt;&gt;&gt; me</span>
<span class="go">&lt;User: christos&gt;</span>
<span class="go">&gt;&gt;&gt; obj.likes.add(me)</span>
<span class="go">&gt;&gt;&gt; obj.likes.all()</span>
<span class="go">&lt;QuerySet [&lt;User: christos&gt;]&gt;</span>
<span class="go">&gt;&gt;&gt; obj.likes.remove(me)</span>
<span class="go">&gt;&gt;&gt; obj.likes.all()</span>
<span class="go">&lt;QuerySet []&gt;</span>
<span class="go">&gt;&gt;&gt; qs = User.objects.all()</span>
<span class="go">&gt;&gt;&gt; obj.likes.set(qs)</span>
<span class="go">&gt;&gt;&gt; obj.likes.all()</span>
<span class="go">&lt;QuerySet [&lt;User: christos&gt;]&gt;</span>
<span class="go">&gt;&gt;&gt; TweetLike.objects.all()</span>
<span class="go">&lt;QuerySet [&lt;TweetLike: TweetLike object (4)&gt;]&gt;</span>

<span class="go">&gt;&gt;&gt; TweetLike.objects.first().timestamp</span>
<span class="go">datetime.datetime(2022, 5, 15, 16, 37, 46, 253748, tzinfo=&lt;UTC&gt;)</span>

<span class="go">&gt;&gt;&gt; obj.likes.remove(me)</span>
<span class="go">&gt;&gt;&gt; obj.likes.all()</span>
<span class="go">&lt;QuerySet []&gt;</span>

<span class="go">&gt;&gt;&gt; TweetLike.objects.create(user=me, tweet=obj)</span>
<span class="go">&lt;TweetLike: TweetLike object (5)&gt;</span>
<span class="go">&gt;&gt;&gt; obj.likes.all()</span>
<span class="go">&lt;QuerySet [&lt;User: christos&gt;]&gt;</span>
</pre></div>
</div>
<p><a class="reference external" href="https://github.com/Otinanai1309/tweetmetoo/commit/1ea087f57f6165c476a969187852752ca9a9a563">https://github.com/Otinanai1309/tweetmetoo/commit/1ea087f57f6165c476a969187852752ca9a9a563</a></p>
</div>
<div class="section" id="tweet-action-view">
<h2>4:03:32 44. Tweet Action View<a class="headerlink" href="#tweet-action-view" title="Permalink to this headline"></a></h2>
<p><a class="reference external" href="https://github.com/Otinanai1309/tweetmetoo/commit/e3ed3e9f7d2107cbf8d08e1c5294005aa1a15b67">https://github.com/Otinanai1309/tweetmetoo/commit/e3ed3e9f7d2107cbf8d08e1c5294005aa1a15b67</a></p>
</div>
<div class="section" id="javascript-tweet-action-handler">
<h2>04:11:02 45. JavaScript Tweet Action Handler<a class="headerlink" href="#javascript-tweet-action-handler" title="Permalink to this headline"></a></h2>
<p><a class="reference external" href="https://github.com/Otinanai1309/tweetmetoo/commit/3a120955b502e78ef2b663e68896915d60c447ab">https://github.com/Otinanai1309/tweetmetoo/commit/3a120955b502e78ef2b663e68896915d60c447ab</a></p>
</div>
<div class="section" id="csrf-client-side-action-buttons">
<h2>04:15:56 46. CSRF &amp; Client Side Action Buttons<a class="headerlink" href="#csrf-client-side-action-buttons" title="Permalink to this headline"></a></h2>
<p>Django documentation
<a class="reference external" href="https://docs.djangoproject.com/en/4.0/ref/csrf/">https://docs.djangoproject.com/en/4.0/ref/csrf/</a> to the Ajax section</p>
<p><a class="reference external" href="https://github.com/Otinanai1309/tweetmetoo/commit/6c4c350a9b8179f16f0be6601805b320db97a9fc">https://github.com/Otinanai1309/tweetmetoo/commit/6c4c350a9b8179f16f0be6601805b320db97a9fc</a></p>
</div>
<div class="section" id="retweeting-logic">
<h2>04:24:18 47. Retweeting Logic<a class="headerlink" href="#retweeting-logic" title="Permalink to this headline"></a></h2>
<p><a class="reference external" href="https://github.com/Otinanai1309/tweetmetoo/commit/9528fa2f48158be0efeeb06c3cf69238933feafb">https://github.com/Otinanai1309/tweetmetoo/commit/9528fa2f48158be0efeeb06c3cf69238933feafb</a></p>
</div>
<div class="section" id="two-types-of-serializers">
<h2>04:32:30 48. Two Types of Serializers<a class="headerlink" href="#two-types-of-serializers" title="Permalink to this headline"></a></h2>
<p>In order to add the Retweet functionality we need two typew of Serializers.</p>
<ol class="arabic simple">
<li><p>A read only Serializer and</p></li>
<li><p>A create only Serializer.</p></li>
</ol>
<p><a class="reference external" href="https://github.com/Otinanai1309/tweetmetoo/commit/b67d95c597ac92888dfdc76cd57e8a0de912aebb">https://github.com/Otinanai1309/tweetmetoo/commit/b67d95c597ac92888dfdc76cd57e8a0de912aebb</a></p>
</div>
<div class="section" id="internal-app-urls">
<h2>04:41:29 49. Internal App Urls<a class="headerlink" href="#internal-app-urls" title="Permalink to this headline"></a></h2>
<p><a class="reference external" href="https://github.com/Otinanai1309/tweetmetoo/commit/6fecaa7f1528afb8f0686e80625f19a5dea17d70">https://github.com/Otinanai1309/tweetmetoo/commit/6fecaa7f1528afb8f0686e80625f19a5dea17d70</a></p>
</div>
<div class="section" id="setting-up-tests-in-django">
<h2>04:45:15 50. Setting up Tests in Django<a class="headerlink" href="#setting-up-tests-in-django" title="Permalink to this headline"></a></h2>
<p>We write a test in tests.py</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="c1"># tweets/tests.py</span>
</span><span class="kn">from</span> <span class="nn">django.contrib.auth</span> <span class="kn">import</span> <span class="n">get_user_model</span>
<span class="kn">from</span> <span class="nn">django.test</span> <span class="kn">import</span> <span class="n">TestCase</span>

<span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">Tweet</span>

<span class="c1"># Create your tests here.</span>
<span class="n">User</span> <span class="o">=</span> <span class="n">get_user_model</span><span class="p">()</span>
<span class="k">class</span> <span class="nc">TweetTestCase</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="c1"># builtIn method setUp</span>
    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create_user</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s1">&#39;abc&#39;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s1">&#39;somepassword&#39;</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">test_user_created</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s1">&#39;abc&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">username</span><span class="p">,</span> <span class="s1">&#39;abc&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>after that we run:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="gp">$ </span>python manage.py <span class="nb">test</span>
</span><span class="go">Creating test database for alias &#39;default&#39;...</span>
<span class="go">System check identified no issues (0 silenced).Creating test database for alias &#39;default&#39;...</span>
<span class="go">System check identified no issues (0 silenced).</span>
<span class="go">.</span>
<span class="go">----------------------------------------------------------------------</span>
<span class="go">Ran 1 test in 0.129s</span>

<span class="go">OK</span>
<span class="go">Destroying test database for alias &#39;default&#39;...</span>
</pre></div>
</div>
<p><a class="reference external" href="https://github.com/Otinanai1309/tweetmetoo/commit/707a39f7269917ba4f3342ff1389e04db96559b9">https://github.com/Otinanai1309/tweetmetoo/commit/707a39f7269917ba4f3342ff1389e04db96559b9</a></p>
</div>
<div class="section" id="verify-or-install-node-js">
<h2>05:12:14 51. Verify or Install Node.js<a class="headerlink" href="#verify-or-install-node-js" title="Permalink to this headline"></a></h2>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to TweetMe’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Cristos Karamichailidis.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>